# freeCodeCamp - Проект "Salon Appointment Scheduler"

## Обзор

Этот репозиторий содержит решение для проекта "Salon Appointment Scheduler" из сертификационного курса "Relational Database" на freeCodeCamp.

**Цель проекта:** Создать интерактивный Bash-скрипт, который позволяет пользователям записываться на услуги в салоне, используя базу данных PostgreSQL для хранения информации о клиентах, услугах и записях.

**Ссылка на задание:** [Relational Database Certification](https://www.freecodecamp.org/learn/relational-database/) 

## Технологии и Навыки

*   **Языки:** Bash, SQL (PostgreSQL)
*   **База данных:** PostgreSQL
*   **Инструменты:** `psql`, `grep`, `sed`, `read`, `while`, `if` (Bash)
*   **Концепции:** Работа с реляционными БД, внешние ключи, CRUD-операции из скрипта, обработка пользовательского ввода, условная логика, работа с текстовым выводом.

## Установка и Запуск

Этот проект требует установленного PostgreSQL и Bash.

1.  **Настройка Базы Данных:**

    *   **Подключитесь к PostgreSQL** от имени суперпользователя (обычно `postgres`) или вашего пользователя с правами создания БД:
        ```bash
        # Пример для пользователя postgres
        sudo -u postgres psql
        # Или просто psql, если ваш текущий пользователь имеет права
        # psql
        ```

    *   **Создайте базу данных `salon`:**
        ```sql
        CREATE DATABASE salon;
        ```

    *   **Создайте пользователя (Опционально, но рекомендуется):** Для большей безопасности лучше создать отдельного пользователя для работы с этой базой данных, а не использовать `postgres`.
        ```sql
        CREATE USER salon_user WITH PASSWORD 'your_strong_password'; -- Замените пароль!
        GRANT ALL PRIVILEGES ON DATABASE salon TO salon_user;
        \q
        ```
        *(Если вы создали пользователя, то следующую команду и скрипт нужно будет запускать от его имени или настроить аутентификацию)*

    *   **Восстановите структуру и данные из дампа:**
        ```bash
        # Запускаем от имени пользователя postgres ИЛИ созданного salon_user
        # Вариант 1: от имени postgres
        sudo -u postgres psql -d salon < salon.sql
        # Вариант 2: от имени созданного salon_user (может потребоваться ввод пароля)
        # psql -U salon_user -d salon < salon.sql
        ```
        **Важное Примечание по Дампу:** Файл `salon.sql`, созданный в среде freeCodeCamp, может содержать команды `ALTER ... OWNER TO freecodecamp;`. Это может вызвать ошибку при восстановлении, если пользователя `freecodecamp` нет в вашей системе.
        *   **Решение 1 (Рекомендуемое):** Откройте файл `salon.sql` в текстовом редакторе и **удалите или закомментируйте (`--`) все строки**, содержащие `OWNER TO freecodecamp`.
        *   **Решение 2:** Перед восстановлением дампа создайте пользователя `freecodecamp` в вашем PostgreSQL (`CREATE USER freecodecamp;`) или измените владельца объектов на `postgres` или `salon_user` после восстановления.

2.  **Настройка Скрипта (`salon.sh`):**

    *   Откройте файл `salon.sh` в текстовом редакторе.
    *   Найдите строку, определяющую переменную `PSQL`:
        ```bash
        PSQL="psql -X --username=freecodecamp --dbname=salon --tuples-only -c"
        ```
    *   **Измените ее** в соответствии с вашей настройкой PostgreSQL:
        *   **Если вы используете пользователя `postgres`:**
            ```bash
            PSQL="psql -X --username=postgres --dbname=salon --tuples-only -c"
            ```
        *   **Если вы создали `salon_user` (и настроили аутентификацию, например, через `.pgpass` или `pg_hba.conf`):**
            ```bash
            PSQL="psql -X --username=salon_user --dbname=salon --tuples-only -c"
            ```
        *   **Если ваш текущий Linux-пользователь имеет доступ к базе `salon`:**
            ```bash
            PSQL="psql -X --dbname=salon --tuples-only -c" # Убрали --username
            ```
    *   Сохраните изменения в `salon.sh`.

3.  **Запуск Скрипта:**

    *   Сделайте скрипт исполняемым:
        ```bash
        chmod +x salon.sh
        ```
    *   Запустите скрипт:
        ```bash
        ./salon.sh
        ```
        *(Если вы выбрали вариант с `salon_user` и не настраивали аутентификацию, возможно, скрипт запросит пароль или вам придется запускать его так: `PGPASSWORD='your_strong_password' ./salon.sh`)*

## Ключевые Реализованные Функции

*   Отображение списка услуг из базы данных.
*   Запрос ID услуги у пользователя.
*   Проверка существования клиента по номеру телефона в БД.
*   Добавление нового клиента (если не найден).
*   Запрос времени записи.
*   Добавление записи о визите в таблицу `appointments` с использованием `customer_id` и `service_id`.
*   Вывод подтверждающего сообщения с деталями записи.

## Выводы / Чему научилась

В ходе выполнения этого проекта я отработала навыки взаимодействия Bash-скриптов с PostgreSQL, научилась выполнять SQL-запросы из командной строки, обрабатывать пользовательский ввод и применять условную логику для разных сценариев. Также закрепила понимание внешних ключей и базовых операций с БД.
